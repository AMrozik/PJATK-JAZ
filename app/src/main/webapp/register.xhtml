<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://omnifaces.org/ui ">

<h:head>
    <title>JSF 2.5 Hello World</title>
    <h:outputStylesheet name="main.css" library="css"/>
</h:head>
<h:body>
    <div id="page">
        <ui:composition template="/template/common/commonLayout.xhtml">
            <ui:define name="content">
                <h2>Zarejestruj się na Allezon!</h2>
                <h3>Podaj swoje dane, aby założyć konto</h3>
                <h:form>
                    Imię:<br/> <h:inputText id="name" value="#{registerRequest.name}"
                                            size="20" required="true"
                                            label="name" requiredMessage="wprowadź imię"
                                            validatorMessage="Imie powinno składać się tylko z liter">
                    <f:validateLength minimum="3" maximum="50"/>
                    <f:validateRegex pattern="^[a-zA-ZążśźćńłóęĄŻŹĆŃŁŚÓĘ]{3,50}$"/>
                </h:inputText><br/>
                    <h:message for="name" style="color:red"/><br/>
                    Nazwisko:<br/> <h:inputText id="lastname" value="#{registerRequest.lastname}"
                                                size="20" required="true"
                                                label="lastname" requiredMessage="wprowadź nazwisko"
                                                validatorMessage="Nazwisko może składać się tylko z liter">
                    <f:validateLength minimum="3" maximum="50"/>
                    <f:validateRegex pattern="^[a-zA-ZążśźćńłóęĄŻŹĆŃŁŚÓĘ]{3,50}$"/>
                </h:inputText><br/>
                    <h:message for="lastname" style="color:red"/><br/>
                    Data Urodzenia:<br/> <h:inputText id="BirthDate" value="#{registerRequest.birth}"
                                                      size="20" required="true"
                                                      label="BirthDate" requiredMessage="wprowadź date urodzenia"
                                                      validatorMessage="Nieprawidłowa data urodzenia - format dd/mm/rrrr">
                    <f:validateLength minimum="3" maximum="50"/>
                    <f:validateRegex pattern="^[0-9]{2}/[0-9]{2}/[0-9]{4}$"/>
                </h:inputText><br/>
                    <h:message for="BirthDate" style="color:red"/><br/>
                    Nazwa Użytkownika:<br/> <h:inputText id="username" value="#{registerRequest.username}"
                                                         size="20" required="true"
                                                         label="UserName" requiredMessage="wprowadź nazwe użytkownika"
                                                         validatorMessage="Nazwa użytkownika może zawierać tylko małe litery i cyfry">
                    <f:validateLength minimum="3" maximum="50"/>
                    <f:validateRegex pattern="^[a-z0-9]{3,50}$"/>
                </h:inputText><br/>
                    <h:message for="username" style="color:red"/><br/>
                    Email:<br/> <h:inputText id="email" value="#{registerRequest.email}"
                                             size="20" required="true"
                                             label="Email" type="email" requiredMessage="podaj adres email"
                                             validatorMessage="Nieprawidłowy adres email">
                    <f:validateLength minimum="3" maximum="50"/>
                    <f:validateRegex pattern="^[a-zA-Z0-9.!#$%’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$"/>
                </h:inputText><br/>
                    <h:message for="email" style="color:red"/><br/>
                    Hasło:<br/> <h:inputSecret id="password" value="#{registerRequest.password}"
                                               size="20" required="true"
                                               label="Password" requiredMessage="wprowadź hasło"
                                               validatorMessage="Hasło musi zawierać conajmniej jedną małą i wielką literę oraz cyfrę">
                    <f:validateLength minimum="5" maximum="30"/>
                    <f:validateRegex pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{5,30}$"/>
                </h:inputSecret><br/>
                    <h:message for="password" style="color:red"/><br/>
                    Powtórz Hasło:<br/> <h:inputSecret id="password2" size="20" required="true" label="password2"
                                                       requiredMessage="wprowadź hasło ponownie"
                                                       validatorMessage="Hasła muszą być takie same!"/><br/>
                    <o:validateEqual components="password password2" message="Hasła muszą być takie same!"
                                     showMessageFor="password2"/><br/>
                    <h:message for="password2" style="color:red"/><br/>
                    <h:commandButton value="Załóż konto" action="#{registerControler.register}"/>
                </h:form><br/>
                <span style="color: green"> <h:outputText value="#{registerControler.registerMsg}"/></span><br/>
                <h:link value="Wróć" outcome="login.xhtml"/>
            </ui:define>
        </ui:composition>
    </div>
</h:body>
</html>